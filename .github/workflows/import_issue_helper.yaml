name: Issue Helper

on:
  issues:
    types: [opened, reopened]
  issue_comment:
    types: [created]

jobs:
  issue-helper:
    if: |
      !contains(github.event.issue.labels.*.name, 'no-claude-agent') &&
      github.actor != 'reply-action-reviewer' &&
      github.actor != 'reply-action-reviewer[bot]'
    permissions:
      issues: write
      id-token: write
      contents: read
    uses: tobias-reply/claude-code-showcase/.github/workflows/claude-issue-helper.yml@v1.0.2
    secrets:
      app_id: ${{ secrets.APP_ID }}
      app_private_key: ${{ secrets.APP_PRIVATE_KEY }}
      aws_role_to_assume: ${{ secrets.AWS_ROLE_TO_ASSUME }}